@model DoctorsOnline.Models.LocationModel
@{
    ViewBag.Title = "Index";
}

@*<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/jquery-1.10.2.min.js"></script>*@
<script type="text/javascript">
    $(function() {
        $("#DivisionId").change(function() {
            var selectedItem = $(this).val();
            var ddlDist = $("#DistrictId");
            var districtProgress = $("#district-loading-progress");
            districtProgress.show();
            $.ajax({
                cache: false,
                type: "GET",
                url: "@(Url.RouteUrl("GetDistrictByDivisionId"))",
                data: { "divisionId": selectedItem },
                success: function(data) {
                    ddlDist.html('');
                    $.each(data, function(id, option) {
                        ddlDist.append($('<option></option>').val(option.id).html(option.name));
                    });
                    districtProgress.hide();
                },
                error: function(xhr, ajaxOptions, thrownError) {
                    alert('Failed to retrieve Districts.');
                    districtProgress.hide();
                }
            });
        });
    })
</script>

    @Html.LabelFor(model => model.DivisionId)
    @Html.DropDownListFor(model => model.DivisionId, Model.AvailableDivisions)
    
    <br />
    @Html.LabelFor(model => model.DistrictId)
    @Html.DropDownListFor(model => model.DistrictId, Model.AvailableDistricts)
    <br />
    @Html.LabelFor(model => model.ThanaId)
    @Html.DropDownListFor(model => model.ThanaId, Model.AvailableThanas)
    <span id="states‐loading‐progress" style="display: none;">Please wait..</span>


